<div class="sudoku">
    <h1 class="sudoku__title">Sudoku</h1>
    <canvas class="sudoku__grid" id="game-grid" data-context="{{ board|safe }}" width="500" height="500" aria-label="Sudoku game grid">Canvas is not supported</canvas>
</div>

<div class="sudoku__interface">
    <div class="sudoku__controls">
        <!-- Undo -->
        <div class="sudoku__controls-item" aria-label="Undo">
            <div id="game-controls-undo" class="sudoku__controls-button">
                <svg class="sudoku__controls-icon sudoku__controls-icon--undo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30">
                    <path d="M13.71 2.46a1 1 0 0 1 .14 1.32l-.08.1-2.15 2.32 3.41.02a10 10 0 1 1-10 10 1 1 0 1 1 2 0 8 8 0 1 0 8.25-8h-.25l-3.48-.02 2.28 2.53a1 1 0 0 1 .01 1.32l-.09.1a1 1 0 0 1-1.32 0l-.09-.08-3.76-4.18a1 1 0 0 1-.07-1.25l.08-.1 3.7-4.02a1 1 0 0 1 1.42-.06" />
                </svg>
            </div>
            <div class="sudoku__controls-label">Undo</div>
        </div>

        <!-- Reset -->
        <div class="sudoku__controls-item" aria-label="Reset">
            <div id="game-controls-reset" class="sudoku__controls-button">
                <svg class="sudoku__controls-icon sudoku__controls-icon--reset" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30">
                    <path d="M27.13 25.11a1 1 0 0 1 .12 2h-6.9a1 1 0 0 1-.11-2zM21.48 4.08l.17.14.16.15 3.76 3.76a4 4 0 0 1 .15 5.5l-.15.16-11.32 11.32h2.04a1 1 0 0 1 1 .89v.11a1 1 0 0 1-.88 1H6.52a3 3 0 0 1-1.98-.74l-.14-.14-2.23-2.22a4 4 0 0 1-.15-5.5l.15-.16L16.15 4.37a4 4 0 0 1 5.33-.29m-11.52 9.3-6.38 6.38a2 2 0 0 0-.11 2.7l.11.13 2.23 2.23a1 1 0 0 0 .58.28l.13.01h4.9l5.13-5.13zm7.87-7.82-.14.1-.13.13-6.18 6.18 6.59 6.6 6.19-6.2a2 2 0 0 0 .11-2.7l-.11-.12-3.77-3.76a2 2 0 0 0-2.56-.22z" />
                </svg>
            </div>
            <div class="sudoku__controls-label">Reset</div>
        </div>

        <!-- Notes Mode -->
        <div class="sudoku__controls-item" aria-label="Notes">
            <div id="game-controls-notes" class="sudoku__controls-button">
                <svg class="sudoku__controls-icon sudoku__controls-icon--notes" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30">
                    <path d="M25.43 4.76a5.42 5.42 0 0 1 .19 7.52l-.18.2-13.5 13.48a.91.91 0 0 1-1.21.08l-.1-.08-5.07-5.08-.59 4.34 3.25-.44c.44-.05.84.2 1 .58l.03.11.02.11c.06.47-.24.91-.7 1.03l-.1.02-4.45.6a.94.94 0 0 1-.79-.27.92.92 0 0 1-.26-.65v-.13l1-7.4a.9.9 0 0 1 .19-.44l.08-.09L17.71 4.76a5.45 5.45 0 0 1 7.72 0m.35 20.08a1 1 0 1 1 0 2h-8.7a1 1 0 0 1 0-2zM21.4 10.18 9.43 22.13 11.3 24l11.95-11.95-1.86-1.86zm-3.23-3.23L6.2 18.91l1.92 1.91L20.07 8.86l-1.9-1.9zm3.42-1.93c-.69 0-1.35.2-1.92.56l-.15.1 5.01 5 .1-.14c.33-.5.51-1.09.55-1.7l.01-.22a3.58 3.58 0 0 0-3.6-3.6" />
                </svg>
            </div>
            <div class="sudoku__controls-label">Notes</div>
        </div>

        {% if not user.is_authenticated %}
            <!-- Import -->
            <div class="sudoku__controls-item" aria-label="Import">
                <div id="game-controls-import" class="sudoku__controls-button">
                    <svg class="sudoku__controls-icon sudoku__controls-icon--import" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 27 27">
                        <path d="M0 0h27v3H0zm0 24h27v3H0zM0 0v27h3V0zm24 0v27h3V0zM9 0v27h3V0zm9 0v27h3V0zM0 9h27v3H0zm0 9h27v3H0z" />
                    </svg>
                </div>
                <div class="sudoku__controls-label">Import</div>
            </div>
        {% endif %}

        <!-- Create Notes -->
        <div class="sudoku__controls-item" aria-label="Create Notes">
            <div id="game-controls-create-notes" class="sudoku__controls-button">
                <svg class="sudoku__controls-icon sudoku__controls-icon--create-notes" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" transform="scale(-1 1)">
                    <path d="M25.43 4.76a5.42 5.42 0 0 1 .19 7.52l-.18.2-13.5 13.48a.91.91 0 0 1-1.21.08l-.1-.08-5.07-5.08-.59 4.34 3.25-.44c.44-.05.84.2 1 .58l.03.11.02.11c.06.47-.24.91-.7 1.03l-.1.02-4.45.6a.94.94 0 0 1-.79-.27.92.92 0 0 1-.26-.65v-.13l1-7.4a.9.9 0 0 1 .19-.44l.08-.09L17.71 4.76a5.45 5.45 0 0 1 7.72 0m.35 20.08a1 1 0 1 1 0 2h-8.7a1 1 0 0 1 0-2zM21.4 10.18 9.43 22.13 11.3 24l11.95-11.95-1.86-1.86zm-3.23-3.23L6.2 18.91l1.92 1.91L20.07 8.86l-1.9-1.9zm3.42-1.93c-.69 0-1.35.2-1.92.56l-.15.1 5.01 5 .1-.14c.33-.5.51-1.09.55-1.7l.01-.22a3.58 3.58 0 0 0-3.6-3.6" />
                </svg>
            </div>
            <div class="sudoku__controls-label">Create Notes</div>
        </div>

        {% if user.is_authenticated %}
            <!-- Solve -->
            <div class="sudoku__controls-item" aria-label="Solve">
                <div id="game-controls-solve" class="sudoku__controls-button">
                    <svg class="sudoku__controls-icon sudoku__controls-icon--solve" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30">
                        <path d="M15 2.5A12.5 12.5 0 0 1 27.5 15 12.5 12.5 0 0 1 15 27.5 12.5 12.5 0 0 1 2.5 15 12.5 12.5 0 0 1 15 2.5M15 25a10 10 0 1 0 0-20 10 10 0 0 0 0 20M9 15a1 1 0 1 1 2 0 1 1 0 0 1-2 0m6 4a1 1 0 1 1 0 2 1 1 0 0 1 0-2m6-4a1 1 0 1 1-2 0 1 1 0 0 1 2 0m-6-4a1 1 0 1 1 0-2 1 1 0 0 1 0 2" />
                    </svg>
                </div>
                <div class="sudoku__controls-label">Solve</div>
            </div>

            <!-- Solve Step -->
            <div class="sudoku__controls-item" aria-label="Solve Step">
                <div id="game-controls-solve-step" class="sudoku__controls-button">
                    <svg class="sudoku__controls-icon sudoku__controls-icon--solve-step" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30">
                        <path d="M17.3 25.91c.5 0 .91.48.91 1.08 0 .59-.4 1.07-.91 1.07h-4.6c-.5 0-.91-.48-.91-1.07 0-.6.4-1.08.91-1.08zM15 2.34a9.68 9.68 0 0 1 9.64 9.71c0 3.5-1.86 6.7-4.83 8.41-.23.14-.4.39-.5.82a3.21 3.21 0 0 1-3.13 2.5H13.5a3.21 3.21 0 0 1-3.17-2.68c-.08-.45-.17-.65-.12-.62a9.72 9.72 0 0 1-4.85-8.43c0-5.36 4.31-9.7 9.64-9.7zm0 2.15a7.53 7.53 0 0 0-7.5 7.56 7.57 7.57 0 0 0 3.78 6.57c.65.38.99 1.1 1.16 2.12.1.51.54.89 1.06.89h2.68c.5 0 .94-.35 1.05-.83.23-.98.73-1.73 1.5-2.19a7.57 7.57 0 0 0 3.77-6.56A7.53 7.53 0 0 0 15 4.5z" />
                    </svg>
                </div>
                <div class="sudoku__controls-label">Solve Step</div>
            </div>
        {% endif %}
    </div>

    <div class="sudoku__numpad">
        <!-- 1 -->
        <div class="sudoku__numpad-item" aria-label="Number 1">
            <div class="sudoku__numpad-button" data-value="1">
                <svg class="sudoku__numpad-icon sudoku__numpad-icon--1" xmlns="http://www.w3.org/2000/svg" viewBox="5 0 122.88 122.88">
                    <path d="M75.59 36.31v50.27H61.72v-32.9c-2.24 1.7-4.42 3.07-6.53 4.12s-4.74 2.06-7.91 3.02V49.63c4.67-1.52 8.31-3.34 10.89-5.45 2.59-2.13 4.61-4.75 6.08-7.87z" />
                </svg>
            </div>
        </div>

        <!-- 2 -->
        <div class="sudoku__numpad-item" aria-label="Number 2">
            <div class="sudoku__numpad-button" data-value="2">
                <svg class="sudoku__numpad-icon sudoku__numpad-icon--2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 122.88 122.88">
                    <path d="M82.15 86.69H40.73c.47-4.08 1.92-7.93 4.32-11.53 2.41-3.61 6.91-7.86 13.53-12.77 4.05-3.01 6.64-5.28 7.78-6.85 1.13-1.56 1.7-3.04 1.7-4.44 0-1.51-.56-2.81-1.68-3.89s-2.53-1.61-4.23-1.61c-1.76 0-3.2.56-4.32 1.67-1.12 1.12-1.87 3.08-2.25 5.9l-13.81-1.12c.54-3.9 1.54-6.93 2.98-9.11 1.45-2.19 3.48-3.85 6.1-5.02 2.64-1.17 6.28-1.75 10.93-1.75 4.86 0 8.63.55 11.33 1.67 2.69 1.1 4.82 2.8 6.36 5.09 1.55 2.3 2.32 4.87 2.32 7.71 0 3.02-.89 5.91-2.66 8.67-1.77 2.75-5 5.78-9.68 9.08-2.78 1.92-4.64 3.27-5.57 4.04-.94.77-2.04 1.77-3.31 3.02h21.56v11.24z" />
                </svg>
            </div>
        </div>

        <!-- 3 -->
        <div class="sudoku__numpad-item" aria-label="Number 3">
            <div class="sudoku__numpad-button" data-value="3">
                <svg class="sudoku__numpad-icon sudoku__numpad-icon--3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 122.88 122.88">
                    <path d="m54.83 51.45-12.88-2.29c1.07-4.1 3.12-7.24 6.16-9.43 3.04-2.18 7.34-3.28 12.9-3.28 6.39 0 11 1.19 13.86 3.57 2.84 2.39 4.27 5.39 4.27 9 0 2.11-.58 4.03-1.74 5.74-1.15 1.71-2.89 3.22-5.22 4.51 1.89.47 3.34 1.02 4.34 1.64 1.63 1 2.89 2.33 3.79 3.96.9 1.64 1.36 3.6 1.36 5.87 0 2.85-.74 5.59-2.24 8.22-1.5 2.61-3.64 4.63-6.45 6.05s-6.5 2.12-11.07 2.12c-4.45 0-7.97-.53-10.54-1.58-2.58-1.05-4.69-2.58-6.36-4.6-1.66-2.02-2.93-4.57-3.82-7.63l13.63-1.82c.54 2.75 1.36 4.67 2.49 5.73 1.12 1.06 2.55 1.6 4.29 1.6 1.82 0 3.33-.67 4.55-2.01 1.21-1.34 1.82-3.12 1.82-5.35 0-2.27-.58-4.03-1.75-5.29-1.16-1.24-2.75-1.87-4.75-1.87-1.06 0-2.53.26-4.4.8l.71-9.74c.74.11 1.32.17 1.75.17 1.76 0 3.23-.57 4.41-1.7s1.77-2.47 1.77-4.02c0-1.5-.45-2.68-1.32-3.56-.89-.89-2.11-1.34-3.65-1.34-1.6 0-2.89.48-3.89 1.45-.99.98-1.67 2.67-2.02 5.08" />
                </svg>
            </div>
        </div>

        <!-- 4 -->
        <div class="sudoku__numpad-item" aria-label="Number 4">
            <div class="sudoku__numpad-button" data-value="4">
                <svg class="sudoku__numpad-icon sudoku__numpad-icon--4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 122.88 122.88">
                    <path d="M64.9 77.74H39.58V66.3L64.9 36.19H77v30.78h6.3v10.77H77v9.37H64.9zm0-10.78v-15.8l-13.37 15.8z" />
                </svg>
            </div>
        </div>

        <!-- 5 -->
        <div class="sudoku__numpad-item" aria-label="Number 5">
            <div class="sudoku__numpad-button" data-value="5">
                <svg class="sudoku__numpad-icon sudoku__numpad-icon--5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 122.88 122.88">
                    <path d="M47.02 36.19h32.99V47.3H57.67l-1.19 7.49c1.54-.72 3.06-1.27 4.58-1.63 1.51-.36 3.01-.55 4.48-.55 5 0 9.06 1.51 12.17 4.54 3.11 3.02 4.67 6.83 4.67 11.43 0 3.23-.8 6.33-2.4 9.31-1.61 2.98-3.88 5.25-6.83 6.83-2.95 1.57-6.72 2.35-11.31 2.35-3.3 0-6.13-.31-8.48-.94-2.35-.62-4.36-1.56-6-2.8-1.65-1.25-2.98-2.64-4.01-4.22-1.03-1.57-1.88-3.53-2.56-5.88l14.05-1.54c.34 2.26 1.14 3.98 2.39 5.16 1.26 1.18 2.75 1.76 4.47 1.76 1.95 0 3.54-.73 4.8-2.2 1.27-1.47 1.9-3.66 1.9-6.57 0-2.98-.64-5.16-1.91-6.55s-2.97-2.09-5.08-2.09c-1.34 0-2.64.33-3.89.99-.93.48-1.96 1.34-3.06 2.6l-11.85-1.71z" />
                </svg>
            </div>
        </div>

        <!-- 6 -->
        <div class="sudoku__numpad-item" aria-label="Number 6">
            <div class="sudoku__numpad-button" data-value="6">
                <svg class="sudoku__numpad-icon sudoku__numpad-icon--6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 122.88 122.88">
                    <path d="m80.61 48.03-13.56 1.65c-.35-1.88-.95-3.21-1.78-3.97-.84-.78-1.87-1.16-3.09-1.16-2.2 0-3.91 1.11-5.14 3.33-.89 1.61-1.55 5.03-1.97 10.28 1.63-1.65 3.3-2.88 5.01-3.66 1.72-.79 3.7-1.19 5.95-1.19 4.37 0 8.07 1.56 11.08 4.68q4.53 4.695 4.53 11.88c0 3.23-.76 6.19-2.29 8.87-1.53 2.67-3.64 4.7-6.35 6.07-2.72 1.37-6.11 2.05-10.19 2.05-4.91 0-8.83-.83-11.8-2.51-2.97-1.67-5.34-4.34-7.11-8s-2.66-8.51-2.66-14.56c0-8.84 1.86-15.32 5.59-19.44 3.72-4.11 8.88-6.16 15.49-6.16q5.85 0 9.24 1.35c2.26.9 4.14 2.23 5.64 3.95 1.5 1.73 2.64 3.91 3.41 6.54M55.54 69.87q0 3.99 2.01 6.24c1.35 1.51 2.98 2.26 4.92 2.26q2.685 0 4.5-2.04 1.8-2.04 1.8-6.09c0-2.76-.63-4.87-1.87-6.32-1.26-1.45-2.81-2.18-4.66-2.18-1.89 0-3.49.71-4.77 2.11-1.29 1.4-1.93 3.4-1.93 6.02" />
                </svg>
            </div>
        </div>

        <!-- 7 -->
        <div class="sudoku__numpad-item" aria-label="Number 7">
            <div class="sudoku__numpad-button" data-value="7">
                <svg class="sudoku__numpad-icon sudoku__numpad-icon--7" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 122.88 122.88">
                    <path d="M40.92 36.15h41.05v9.49c-3.57 3.21-6.55 6.7-8.95 10.46-2.9 4.56-5.18 9.62-6.86 15.21-1.34 4.35-2.24 9.49-2.7 15.43h-14c1.11-8.25 2.84-15.18 5.2-20.77 2.37-5.59 6.11-11.57 11.23-17.95H40.92z" />
                </svg>
            </div>
        </div>

        <!-- 8 -->
        <div class="sudoku__numpad-item" aria-label="Number 8">
            <div class="sudoku__numpad-button" data-value="8">
                <svg class="sudoku__numpad-icon sudoku__numpad-icon--8" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 122.88 122.88">
                    <path d="M49.52 59.64c-2.15-1.14-3.72-2.42-4.7-3.84-1.34-1.93-2.02-4.15-2.02-6.65 0-4.12 1.94-7.5 5.82-10.13C51.65 37.01 55.66 36 60.65 36c6.61 0 11.48 1.25 14.63 3.77 3.16 2.5 4.73 5.67 4.73 9.48 0 2.23-.63 4.3-1.9 6.23q-1.425 2.16-4.47 4.17c2.66 1.28 4.66 2.98 5.97 5.08 1.32 2.11 1.98 4.45 1.98 7.01 0 2.47-.56 4.77-1.7 6.91-1.14 2.15-2.53 3.8-4.17 4.96-1.65 1.17-3.71 2.02-6.16 2.57-2.45.54-5.06.82-7.86.82-5.23 0-9.21-.62-11.98-1.85-2.76-1.24-4.85-3.06-6.28-5.46q-2.16-3.6-2.16-8.04c0-2.89.68-5.34 2.02-7.35 1.35-2.01 3.41-3.56 6.22-4.66m6.17-9.69c0 1.7.54 3.08 1.61 4.12 1.07 1.05 2.49 1.56 4.28 1.56 1.57 0 2.87-.52 3.88-1.55 1.02-1.03 1.53-2.37 1.53-4 0-1.71-.53-3.09-1.59-4.16-1.07-1.07-2.42-1.6-4.07-1.6q-2.505 0-4.08 1.56c-1.04 1.06-1.56 2.42-1.56 4.07m-.76 21.23c0 2.18.67 3.95 1.99 5.34 1.32 1.38 2.84 2.07 4.54 2.07q2.46 0 4.41-2.1c1.95-2.1 1.95-3.18 1.95-5.34 0-2.18-.65-3.96-1.96-5.35-1.32-1.39-2.84-2.09-4.56-2.09-1.71 0-3.19.68-4.46 2.02-1.28 1.34-1.91 3.17-1.91 5.45" />
                </svg>
            </div>
        </div>

        <!-- 9 -->
        <div class="sudoku__numpad-item" aria-label="Number 9">
            <div class="sudoku__numpad-button" data-value="9">
                <svg class="sudoku__numpad-icon sudoku__numpad-icon--9" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 122.88 122.88">
                    <path d="m42.19 75.03 13.61-1.7c.36 1.88.96 3.22 1.81 3.99.86.78 1.9 1.17 3.13 1.17 2.2 0 3.91-1.1 5.15-3.31.89-1.64 1.57-5.09 2.02-10.36-1.64 1.68-3.31 2.91-5.04 3.69-1.72.79-3.71 1.18-5.98 1.18-4.41 0-8.14-1.57-11.17-4.7-2.53-2.62-4-5.81-4.42-9.57v16.23-20.8c.28-2.4 1-4.63 2.19-6.7 1.55-2.68 3.68-4.72 6.38-6.1s6.11-2.06 10.21-2.06c4.93 0 8.87.85 11.85 2.53 2.98 1.7 5.36 4.38 7.14 8.06s2.67 8.54 2.67 14.59c0 8.88-1.87 15.38-5.62 19.52-3.74 4.13-8.92 6.19-15.55 6.19-3.92 0-7-.45-9.27-1.35-2.26-.91-4.14-2.23-5.64-3.97-1.51-1.74-2.67-3.91-3.47-6.53m-.91-19.61c-.08-.75-.13-1.52-.13-2.32 0-.76.04-1.51.13-2.24zm26.12-2.36c0-2.67-.68-4.76-2.02-6.27s-2.98-2.27-4.91-2.27c-1.82 0-3.32.69-4.53 2.05-1.2 1.36-1.8 3.42-1.8 6.15 0 2.75.62 4.86 1.87 6.31 1.24 1.46 2.8 2.19 4.65 2.19 1.93 0 3.53-.71 4.81-2.12 1.29-1.4 1.93-3.41 1.93-6.04" />
                </svg>
            </div>
        </div>
    </div>
</div>
